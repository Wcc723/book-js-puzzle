<!DOCTYPE html>
<html lang="zh-Hant-TW">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      // ## this
      // function callName(myName) {
      //   console.log(
      //     myName, // 傳入的參數
      //     arguments, // 所有傳入的引數,結構是類陣列
      //     this, // 函式內均會有 this,當前為 window 物件
      //     window // 全域作用域的 window 物件
      //   );
      //   debugger; // 除錯模式
      // }
      // callName('恩娣');


      // ## 全域環境下
      // var myName = '小明';
      // console.log(this === window); // true
      // console.log(this.myName); // 小明


      // ## 純粹的呼叫
      // function callSomeone() {
      //   console.log(this === window); // true
      // }
      // callSomeone();
      // IIFE
      // (function () {
      //   console.log(this === window); // true
      //   function callSomeone() {
      //     console.log(this === window); // true
      //   }
      //   callSomeone();
      // })();


      // ## new 運算子
      // function MyFamily(name) {
      //   this.myName = name;
      // }
      // var myFamily = new MyFamily('小明'); // 產生新的物件
      // console.log(myFamily); // {myName: '小明'}


      // ## class
      // class MyFamily {
      //   constructor(name) {
      //     this.myName = name;
      //     this.callSomeone();
      //     this.hello(); // TypeError: this.hello is not a function
      //   }
      //   callSomeone() { }
      //   static hello() { } // 靜態方法不包含在 this 中
      // }
      // var myFamily = new MyFamily('小明');
      // console.log(myFamily); // 包含 myName、callSomeone 屬性


      // ## call、apply、bind
      // var Jay = {
      //   myName: '杰倫'
      // }
      // var Ming = {
      //   myName: '小明'
      // }
      // function callSomeone(text1, text2) {
      //   console.log(this.myName, text1, text2);
      // }
      // callSomeone.call(Jay, '你好', '早安'); // 杰倫 你好 早安
      // callSomeone.apply(Jay, ['你好', '早安']); // 杰倫 你好 早安
      // callSomeone.call(Ming, '你好', '早安'); // 小明 你好 早安


      // var Ming = {
      //   myName: '小明'
      // }
      // function callSomeone(text1, text2) {
      //   console.log(this.myName, text1, text2);
      // }
      // var newCall = callSomeone.bind(Ming, '你好', '早安');
      // var newCall2 = callSomeone.bind(Ming); // 也可不傳入參數,在後續呼叫時才傳入
      // newCall(); // 小明 你好 早安
      // newCall2('開心', '美好'); // 小明 開心 美好


      // ## 物件下的方法
      // var myName = '全域的小明';
      // function callName() {
      //   console.log(this.myName);
      // }
      // callName(); // '全域的小明'


      // var family = {
      //   myName: '小明家',
      //   callName: function () {
      //     console.log(this.myName); // '小明家'
      //   }
      // }
      // family.callName();


      // var family = {
      //   myName: '小明家',
      //   callName: callName // 使用全域定義的函式
      // }
      // family.callName(); // 小明家


      // var family = {
      //   myName: '小明家',
      //   callName: callName,
      //   Ming: {
      //     myName: '小明',
      //     callName: callName
      //   }
      // }
      // family.callName(); // 小明家
      // family.Ming.callName(); // 小明


      // var person = {
      //   myName: '小明',
      //   cash: 1000,
      //   backpack: ['水壺'],
      //   buy: function (item, price) {
      //     console.log(`${this.myName} 買了 "${item}"，並放到背包裡 `);
      //     // 小明買了 " 玩偶 "，並放到背包裡
      //     this.backpack.push(item);
      //     this.updateCash(-price);
      //   },
      //   updateCash: function (price) {
      //     this.cash += price;
      //     console.log(`${this.myName} 現在剩下 ${this.cash} 元 `);
      //     // 小明現在剩下 700 元
      //   }
      // }
      // person.buy('玩偶', 300);


      // ## 'use strict' 是什麼?
      // 'use strict';
      // auntie = '恩娣';
      // Uncaught ReferenceError: auntie is not defined


      // (function () {
      //   'use strict';
      //   // auntie = '恩娣'; // 此行會出現錯誤
      //   // Uncaught ReferenceError: auntie is not defined
      // })();
      // mom = ' 老媽管不到 '; // 不會跳錯


      // 'use strict';
      // (function (params) {
      //   console.log(this); // undefined
      // })();


      // ## 小節測驗
      // 1. 請問以下程式碼執行後的值為?
      // var myName = '小明';
      // var obj = {
      //   fn: function () {
      //     myName = '杰倫';
      //     console.log(this.myName);
      //   },
      //   myName: '恩娣',
      // };
      // obj.fn();
    </script>
  </body>

</html>